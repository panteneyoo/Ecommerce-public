(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{15:function(e,t,r){e.exports={header:"Cart_header__9hn9V",Empty:"Cart_Empty__1QsfC",footer:"Cart_footer__1V1HC",footer__total:"Cart_footer__total__fDlgL",footer__amount:"Cart_footer__amount__2EEQG",footer__number:"Cart_footer__number__3-oUz"}},23:function(e,t,r){e.exports={productgrid:"Product_productgrid__22IWa",Carousel:"Product_Carousel__1ocne",CategoryCarousel:"Product_CategoryCarousel__2QB8r",sectionTitle:"Product_sectionTitle__1opAG",categoryTitle:"Product_categoryTitle__51bX-"}},24:function(e,t,r){e.exports={CartCard:"CartCard_CartCard__hee9A",CartCard__innerBlock:"CartCard_CartCard__innerBlock__JLYJ-"}},26:function(e,t,r){e.exports={product:"ProductInfo_product__2YYDT",product__nonimage:"ProductInfo_product__nonimage__2rtPa",product__nonimage__purchase:"ProductInfo_product__nonimage__purchase__314zg",add:"ProductInfo_add__l99v6",back:"ProductInfo_back__1opnr",notfound:"ProductInfo_notfound__JpStP"}},31:function(e,t,r){e.exports={PdCard:"ProductCard_PdCard__1JkI3",PdCard__price:"ProductCard_PdCard__price__20G6j",purchase:"ProductCard_purchase__1ziFl",add:"ProductCard_add__3sINx"}},32:function(e,t,r){e.exports={navbar:"Navbar_navbar__drgoK",navbarcart:"Navbar_navbarcart__19WkD",navbar__logo:"Navbar_navbar__logo__3dyF_",navbar__cart:"Navbar_navbar__cart__rv6MA",navbar__cart__number:"Navbar_navbar__cart__number__um6l4",navbar__search:"Navbar_navbar__search__1TT8H"}},37:function(e,t,r){e.exports={Counter:"QuantityCounter_Counter__12ZNY"}},41:function(e,t,r){e.exports={CarouselCard:"CarouselCard_CarouselCard__3fSq8",CarouselCard__tag:"CarouselCard_CarouselCard__tag__2O61h"}},52:function(e,t,r){e.exports={footer:"App_footer__3csul"}},58:function(e,t,r){},59:function(e,t,r){},71:function(e,t,r){"use strict";r.r(t);var n=r(2),c=r.n(n),a=r(46),s=r.n(a),i=(r(58),r(59),r(53)),o=r(7),u=r.n(o),d=r(10),j=r(16),l=r(37),b=r.n(l),p=r(3),h=function(e){var t=e.onChange,r=e.start,c=void 0===r?0:r,a=Object(n.useState)(c),s=Object(j.a)(a,2),i=s[0],o=s[1];Object(n.useEffect)((function(){t(i)}),[i]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:b.a.Counter,children:[Object(p.jsx)("span",{children:"Qty:"}),Object(p.jsxs)("span",{className:b.a.wrap,children:[Object(p.jsx)("button",{onClick:function(e){0!==i&&o(i-1)},children:"-"}),Object(p.jsx)("span",{children:i}),Object(p.jsx)("button",{onClick:function(e){o(i+1)},children:"+"})]})]})})},f=r(31),_=r.n(f),m=r(12),x=r(44),O=r(42);O.a.initializeApp({apiKey:"AIzaSyAnYYV3M-49Lh2A3eXNLLUVNERLkDauKto",authDomain:"ecomm-5dacc.firebaseapp.com",projectId:"ecomm-5dacc",storageBucket:"ecomm-5dacc.appspot.com",messagingSenderId:"88363384728",appId:"1:88363384728:web:238d82d2332ba186b035ed"});var v=O.a.firestore(),C=function(){var e=Object(d.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://fakestoreapi.com","/products?limit=20"));case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(u.a.mark((function e(){var t,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.collection("product"),e.next=3,t.get();case 3:if(!(e.sent.size>1)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,C();case 8:return r=e.sent,n=r.map(function(){var e=Object(d.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.add(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=12,Promise.all(n);case 12:e.sent;case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(u.a.mark((function e(){var t,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return t=v.collection("product"),e.next=5,t.get();case 5:return r=e.sent,n=r.docs,e.abrupt("return",n.map((function(e){return Object(x.a)({id:e.id},e.data())})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:return r=e.sent,n=r.find((function(e){return e.id===Number(t)})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(u.a.mark((function e(){var t,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.collection("cart"),e.next=3,t.get();case 3:return r=e.sent,n=r.docs,e.abrupt("return",n.map((function(e){return Object(x.a)({shopid:e.id},e.data())})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(u.a.mark((function e(t,r,n){var c,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=v.collection("cart"),!r){e.next=10;break}return e.next=4,w();case 4:return a=e.sent,s=a.find((function(e){return e.shopid===r})).quantity,e.next=8,c.doc(r).update({quantity:s+n});case 8:e.next=14;break;case 10:if(!(n>0)){e.next=14;break}return t.quantity=Number(n),e.next=14,c.add(t);case 14:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(u.a.mark((function e(t,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=v.collection("cart").doc(t),0!==r){e.next=6;break}return e.next=4,n.delete();case 4:e.next=8;break;case 6:return e.next=8,n.update({quantity:r});case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=v.collection("cart").doc(t),e.next=3,r.delete();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){var t=e.item,r=Object(m.g)(),c=Object(n.useState)(0),a=Object(j.a)(c,2),s=a[0],i=a[1],o=Object(n.useState)([]),l=Object(j.a)(o,2),b=l[0],f=l[1],x=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(),y(t,O(),s);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=b.find((function(e){return e.id===Number(t.id)}));return e?e.shopid:null},v=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,f(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){v()}),[]),Object(p.jsxs)("div",{className:_.a.PdCard,children:[Object(p.jsx)("img",{onClick:function(){return r.push("/products/".concat(t.id))},src:t.image,alt:"item image not found"}),Object(p.jsx)("h5",{children:t.title}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:_.a.PdCard__price,children:[Object(p.jsxs)("h3",{children:["$",t.price]}),Object(p.jsx)(h,{onChange:function(e){v(),i(e)}})]}),Object(p.jsxs)("div",{className:_.a.purchase,children:[Object(p.jsx)("button",{onClick:function(){return r.push("/products/".concat(t.id))},children:"Shop now"}),Object(p.jsx)("button",{onClick:x,className:_.a.add,children:"Add to Cart"})]})]})]})},T=r(23),E=r.n(T),I=r(43),F=r(41),A=r.n(F),D=function(e){var t=e.item,r=Object(m.g)();return Object(p.jsxs)("div",{className:A.a.CarouselCard,children:[Object(p.jsx)("img",{onClick:function(){return r.push("/products/".concat(t.id))},src:t.image,alt:"item image not found"}),Object(p.jsxs)("div",{className:A.a.CarouselCard__tag,children:[Object(p.jsx)("h4",{children:t.title}),Object(p.jsxs)("h3",{children:["$",t.price]})]})]})},L=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),r=t[0],c=t[1],a=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){a()}),[]);var s=[{width:1,itemsToShow:1},{width:550,itemsToShow:2},{width:768,itemsToShow:3},{width:1200,itemsToShow:4}],o=new Set(r.map((function(e){return e.category}))),l=Object(i.a)(o).map((function(e){return[e,r.filter((function(t){return t.category===e}))]}));return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("h1",{className:E.a.sectionTitle,children:["New Arrivals",">"]}),Object(p.jsx)("div",{className:E.a.Carousel,children:Object(p.jsx)(I.a,{breakPoints:s,children:r.map((function(e){return Object(p.jsx)(D,{item:e},e.id)}))})}),Object(p.jsxs)("h1",{className:E.a.sectionTitle,children:["Shop All",">"]}),Object(p.jsx)("div",{className:E.a.productgrid,children:r.map((function(e){return Object(p.jsx)(B,{item:e},e.id)}))}),Object(p.jsxs)("h1",{className:E.a.sectionTitle,children:["Shop by Categories",">"]}),l.map((function(e){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("h3",{className:E.a.categoryTitle,children:[e[0].toUpperCase(),">"]}),Object(p.jsx)("div",{className:E.a.CategoryCarousel,children:Object(p.jsx)(I.a,{breakPoints:s,children:e[1].map((function(e){return Object(p.jsx)(D,{item:e},e.id)}))})})]})}))]})},q=r(24),H=r.n(q),Y=function(e){var t=e.item,r=e.onDelete,c=e.onChange,a=Object(m.g)(),s=Object(n.useState)(t.quantity),i=Object(j.a)(s,2),o=i[0],u=i[1],d=o*t.price;return Object(p.jsxs)("div",{className:H.a.CartCard,children:[Object(p.jsx)("img",{onClick:function(){return a.push("/products/".concat(t.id))},src:t.image,alt:"item image not found"}),Object(p.jsx)("div",{className:H.a.CartCard__innerBlock,children:Object(p.jsx)("h3",{children:t.title})}),Object(p.jsx)("div",{className:H.a.CartCard__innerBlock,children:Object(p.jsx)("h4",{children:t.category})}),Object(p.jsx)("div",{className:H.a.CartCard__innerBlock,children:Object(p.jsxs)("h5",{children:["$",t.price]})}),Object(p.jsx)("div",{className:H.a.CartCard__innerBlock,children:Object(p.jsx)(h,{onChange:function(e){c(t.shopid,e),u(e),P(t.shopid,e)},start:o})}),Object(p.jsx)("div",{className:H.a.CartCard__innerBlock,children:Object(p.jsxs)("h5",{children:["$",d.toFixed(2)]})}),Object(p.jsxs)("div",{className:H.a.CartCard__innerBlock,children:[Object(p.jsx)("h6",{onClick:function(){return a.push("/products/".concat(t.id))},children:"View Product"}),Object(p.jsx)("h6",{onClick:function(e){r(t.shopid)},children:"Delete Items"})]})]})},z=r(15),J=r.n(z),Q=function(){var e=Object(m.g)(),t=Object(n.useState)([]),r=Object(j.a)(t,2),c=r[0],a=r[1],s=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){s()}),[]);var i=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:s();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(d.a)(u.a.mark((function e(t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t,r);case 2:s();case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),l=c.reduce((function(e,t){return e+t.quantity}),0),b=c.reduce((function(e,t){return e+t.quantity*t.price}),0);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:J.a.header,children:[Object(p.jsx)("div",{className:J.a.header__innerBlock,children:"Product"}),Object(p.jsx)("div",{className:J.a.header__innerBlock,children:"Name"}),Object(p.jsx)("div",{className:J.a.header__innerBlock,children:"Category"}),Object(p.jsx)("div",{className:J.a.header__innerBlock,children:"Item Price"}),Object(p.jsx)("div",{className:J.a.header__innerBlock,children:"Quantity"}),Object(p.jsx)("div",{className:J.a.header__innerBlock,children:"Total Price"}),Object(p.jsx)("div",{className:J.a.header__innerBlock,children:"Operations"})]}),Object(p.jsx)("hr",{}),0!==c.length?Object(p.jsxs)("div",{children:[c.map((function(e){return Object(p.jsx)(Y,{item:e,onDelete:i,onChange:o},e.shopid)})),Object(p.jsxs)("div",{className:J.a.footer,children:[Object(p.jsxs)("span",{className:J.a.footer__amount,children:["There are ",Object(p.jsx)("span",{className:J.a.footer__number,children:l})," items in your cart XD"]}),Object(p.jsxs)("div",{className:J.a.footer__total,children:[Object(p.jsx)("span",{children:"Grand Total: "}),Object(p.jsxs)("span",{className:J.a.footer__number,children:["$",b.toFixed(2)]}),Object(p.jsx)("button",{children:"Checkout"})]}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:function(){return e.push("/products")},children:"Back to Home"})})]})]}):Object(p.jsxs)("div",{className:J.a.Empty,children:[Object(p.jsx)("h1",{children:":/ Oops empty cart please add more items :D"}),Object(p.jsx)("div",{className:J.a.footer,children:Object(p.jsx)("button",{onClick:function(){return e.push("/products")},children:"Back to Home"})})]})]})},$=r(21),G=r(26),V=r.n(G),M=function(){var e=Object(m.h)().id,t=Object(n.useState)(void 0),r=Object(j.a)(t,2),c=r[0],a=r[1],s=Object(n.useState)(0),i=Object(j.a)(s,2),o=i[0],l=i[1],b=Object(n.useState)([]),f=Object(j.a)(b,2),_=f[0],x=f[1],O=Object(m.g)(),v=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(),y(c,C(),o);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var t=_.find((function(t){return t.id===Number(e)}));return t?t.shopid:null};Object(n.useEffect)((function(){(function(){var t=Object(d.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(e);case 2:r=t.sent,a(r);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var g=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,x(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){g()}),[]),Object(p.jsx)(p.Fragment,{children:c?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:V.a.product,children:[Object(p.jsx)("img",{src:c.image,alt:"item image not found"}),Object(p.jsxs)("div",{className:V.a.product__nonimage,children:[Object(p.jsx)("h3",{children:c.title}),Object(p.jsxs)("h2",{children:["$",c.price]}),Object(p.jsxs)("h5",{children:["Category: ",c.category]}),Object(p.jsx)("p",{children:c.description}),Object(p.jsxs)("div",{className:V.a.product__nonimage__purchase,children:[Object(p.jsx)(h,{onChange:function(e){g(),l(e)}}),Object(p.jsx)("button",{onClick:v,className:V.a.add,children:"Add to Cart"})]})]})]}),Object(p.jsx)("button",{className:V.a.back,onClick:function(){return O.push("/products")},children:"Back to Home"})]}):Object(p.jsxs)("div",{className:V.a.notfound,children:[Object(p.jsx)("p",{children:"Items not found"}),Object(p.jsx)("button",{onClick:function(){return O.push("/products")},children:"Back to Home"})]})})},K=r(32),U=r.n(K),X=function(){var e=Object(m.g)();return Object(p.jsxs)("div",{className:U.a.navbar,children:[Object(p.jsx)("div",{children:Object(p.jsx)("span",{onClick:function(){return e.push("/products")},className:U.a.navbar__logo,children:"_SHOPOLOGY"})}),Object(p.jsxs)("div",{className:U.a.navbarcart,children:[Object(p.jsx)("img",{src:"https://icon-library.com/images/cart-icon-png-white/cart-icon-png-white-19.jpg"}),Object(p.jsx)("span",{onClick:function(){return e.push("/cart")},className:U.a.navbar__cart,children:"My Cart"})]})]})},W=r(52),R=r.n(W),Z=function(){Object(m.g)();return Object(p.jsxs)($.a,{children:[Object(p.jsx)(X,{}),Object(p.jsxs)(m.d,{children:[Object(p.jsx)(m.b,{exact:!0,path:"/Ecommerce-public",children:Object(p.jsx)(m.a,{to:"/Ecommerce-public/products"})}),Object(p.jsx)(m.b,{exact:!0,path:"/Ecommerce-public/products",children:Object(p.jsx)(L,{})}),Object(p.jsx)(m.b,{path:"/Ecommerce-public/products/:id",children:Object(p.jsx)(M,{})}),Object(p.jsx)(m.b,{path:"/Ecommerce-public/cart",children:Object(p.jsx)(Q,{})})]}),Object(p.jsxs)("footer",{className:R.a.footer,children:[Object(p.jsx)("hr",{}),"Copyright \xa9 2021 Tingyu Pan"]})]})},ee=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,72)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),n(e),c(e),a(e),s(e)}))};s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(Z,{})}),document.getElementById("root")),ee()}},[[71,1,2]]]);
//# sourceMappingURL=main.6ab687ad.chunk.js.map